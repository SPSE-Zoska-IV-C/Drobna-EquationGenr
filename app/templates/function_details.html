{% extends "_base.html" %} 

{% block header_title %}
<p class="title">Functions</p>
{% endblock %}

{% block content %}
<div>
    <h2>Function Details</h2>

    <p>Function formula: $$ {{ func.get_latex_formula() }} $$</p>
    <p>Function type: {{ func.get_type() }}</p>

    <p>Parameters:</p>
    <p>{{ func.get_parameters() }}</p>

    <p>Graph 1: Original & Inverse</p>
    <div id="graph1" style="width:100%; height:500px;"></div>

    <p>Graph 2: Original only</p>
    <div id="graph2" style="width:100%; height:500px;"></div>
</div>

<script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>

<script>
    // data from Flask
    var x_orig = {{ x_original | safe }};
    var y_orig = {{ y_original | safe }};
    var x_inv  = {{ x_inverse | safe }};
    var y_inv  = {{ y_inverse | safe }};

    /* -------- GRAPH 1 -------- */

    var trace1 = {
        x: x_inv,
        y: y_inv,
        type: 'scatter',
        name: 'Inverse function'
    };

    var layout1 = {
        title: 'Inverse Function',
        xaxis: { title: 'x' },
        yaxis: { title: 'y' }
    };

    Plotly.newPlot('graph1', [trace1], layout1);


    /* -------- GRAPH 2 -------- */
    var trace2 = {
        x: x_orig,
        y: y_orig,
        type: 'scatter',
        name: 'Original function'
    };

    var layout2 = {
        title: 'Original Function',
        xaxis: { title: 'x' },
        yaxis: { title: 'y' }
    };

    Plotly.newPlot('graph2', [trace2], layout2);
</script>
{% endblock %}
